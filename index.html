<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gift Game for Prathu 🎮</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
      min-height: 100vh;
      overflow: hidden;
    }
    h1 { color: #ffeb3b; }
    .game-area {
      position: relative;
      width: 100%;
      max-width: 600px;
      height: 400px;
      background: rgba(255,255,255,0.1);
      border-radius: 15px;
      overflow: hidden;
      margin-top: 20px;
    }
    .basket {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 40px;
      background: #ff4081;
      border-radius: 10px;
    }
    .heart {
      position: absolute;
      top: -40px;
      font-size: 2rem;
      animation: fall linear forwards;
    }
    @keyframes fall {
      from { top: -40px; }
      to { top: 400px; }
    }
    .hidden { display: none; }

    /* Gift Reveal */
    .gift-container {
      margin-top: 2rem;
      max-width: 500px;
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 1s ease, transform 1s ease;
    }
    .gift-container.revealed {
      opacity: 1;
      transform: scale(1);
    }
    .slideshow {
      position: relative;
      width: 100%;
      height: 300px;
    }
    .slideshow img {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 20px;
      display: none;
    }
    .slideshow img.active { display: block; }
  </style>
</head>
<body>

  <h1>🎮 Catch the Hearts to Unlock Your Gift 🎁</h1>
  <p id="scoreText">Score: 0 / 10</p>
  <div class="game-area" id="gameArea">
    <div class="basket" id="basket"></div>
  </div>

  <div id="giftContainer" class="gift-container hidden">
    <h2>🎉 Happy Birthday My Dear Prathu 🎉</h2>
    <div class="slideshow" id="slideshow">
      <img class="active" src="https://i.ytimg.com/vi/q0jSLesrvU8/maxresdefault.jpg" />
      <img src="https://i.ytimg.com/vi/7BpfOvkMGIU/maxresdefault.jpg" />
    </div>
  </div>

  <script>
    const basket = document.getElementById('basket');
    const gameArea = document.getElementById('gameArea');
    const scoreText = document.getElementById('scoreText');
    const giftContainer = document.getElementById('giftContainer');
    const images = document.querySelectorAll('#slideshow img');
    let slide = 0;
    let score = 0;
    const targetScore = 10;

    // Basket movement
    let basketX = gameArea.offsetWidth / 2 - 40;
    document.addEventListener('keydown', e => {
      if (e.key === "ArrowLeft") basketX -= 20;
      if (e.key === "ArrowRight") basketX += 20;
      basketX = Math.max(0, Math.min(gameArea.offsetWidth - basket.offsetWidth, basketX));
      basket.style.left = basketX + "px";
    });

    // Drop hearts
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.textContent = "❤️";
      heart.style.left = Math.random() * (gameArea.offsetWidth - 30) + "px";
      heart.style.animationDuration = (2 + Math.random() * 3) + "s";

      gameArea.appendChild(heart);

      const fallInterval = setInterval(() => {
        const heartRect = heart.getBoundingClientRect();
        const basketRect = basket.getBoundingClientRect();

        if (
          heartRect.bottom >= basketRect.top &&
          heartRect.left < basketRect.right &&
          heartRect.right > basketRect.left
        ) {
          score++;
          scoreText.textContent = `Score: ${score} / ${targetScore}`;
          heart.remove();
          clearInterval(fallInterval);
          if (score >= targetScore) unlockGift();
        }
        if (heartRect.top > window.innerHeight) {
          heart.remove();
          clearInterval(fallInterval);
        }
      }, 50);

      setTimeout(() => heart.remove(), 5000);
    }

    function unlockGift() {
      gameArea.classList.add('hidden');
      scoreText.classList.add('hidden');
      giftContainer.classList.remove('hidden');
      giftContainer.classList.add('revealed');

      setInterval(() => {
        images[slide].classList.remove('active');
        slide = (slide + 1) % images.length;
        images[slide].classList.add('active');
      }, 3000);
    }

    setInterval(createHeart, 1000);
  </script>
</body>
</html>
